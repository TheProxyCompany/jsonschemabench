{
  "description": "sample Snowplow/sp_341_Normalized.json",
  "meta": {
    "full_size": 7221,
    "stripped_size": 6287,
    "features": [
      "@minmaxLength",
      "@siblingKeys",
      "additionalProperties",
      "oneOf",
      "pattern"
    ],
    "raw_features": [
      "_boolSchema",
      "maxLength",
      "properties",
      "required",
      "type",
      "type:[]",
      "type:integer",
      "type:null",
      "type:number",
      "type:object",
      "type:string"
    ]
  },
  "schema": {
    "additionalProperties": false,
    "description": "Schema for a bad row resulting from a relay failure",
    "properties": {
      "failure": {
        "description": "Information regarding the relay failure",
        "properties": {
          "message": {
            "additionalProperties": false,
            "description": "Details of failure",
            "properties": {
              "messageText": {
                "description": "String describing the location the error was intercepted",
                "type": "string"
              },
              "stackTrace": {
                "description": "Stack trace if available",
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "required": [
              "messageText"
            ],
            "type": "object"
          },
          "timestamp": {
            "_format": "date-time",
            "description": "Timestamp at which the failure occurred",
            "type": "string"
          }
        },
        "type": "object"
      },
      "payload": {
        "additionalProperties": false,
        "description": "The enriched event that is associated with this relay failure",
        "oneOf": [
          {
            "required": [
              "eventStruct"
            ]
          },
          {
            "required": [
              "eventRaw"
            ]
          }
        ],
        "properties": {
          "eventRaw": {
            "description": "The raw event that was associated with teh failure",
            "type": "string"
          },
          "eventStruct": {
            "description": "The event fields",
            "properties": {
              "app_id": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "base_currency": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_colordepth": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_cookies": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_family": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_features_director": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_flash": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_gears": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_java": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_pdf": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_quicktime": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_realplayer": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_silverlight": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_features_windowsmedia": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_lang": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_name": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_renderengine": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_type": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_version": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "br_viewheight": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "br_viewwidth": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "collector_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "contexts": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "derived_contexts": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "derived_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "doc_charset": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "doc_height": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "doc_width": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "domain_sessionid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "domain_sessionidx": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "domain_userid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "dvce_created_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "dvce_ismobile": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "dvce_screenheight": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "dvce_screenwidth": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "dvce_sent_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "dvce_type": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "etl_tags": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "etl_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event_fingerprint": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event_format": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event_id": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event_name": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event_vendor": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "event_version": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "geo_city": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "geo_country": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "geo_latitude": {
                "type": [
                  "number",
                  "null"
                ]
              },
              "geo_longitude": {
                "type": [
                  "number",
                  "null"
                ]
              },
              "geo_region": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "geo_region_name": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "geo_timezone": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "geo_zipcode": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ip_domain": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ip_isp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ip_netspeed": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ip_organization": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_campaign": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_clickid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_content": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_medium": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_network": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_source": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "mkt_term": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "name_tracker": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "network_userid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "os_family": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "os_manufacturer": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "os_name": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "os_timezone": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_referrer": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_title": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_url": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_urlfragment": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_urlhost": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_urlpath": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_urlport": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "page_urlquery": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "page_urlscheme": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "platform": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "pp_xoffset_max": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "pp_xoffset_min": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "pp_yoffset_max": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "pp_yoffset_min": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "refr_domain_userid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_dvce_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_medium": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_source": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_term": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_urlfragment": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_urlhost": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_urlpath": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_urlport": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "refr_urlquery": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "refr_urlscheme": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "se_action": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "se_category": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "se_label": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "se_property": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "se_value": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_category": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_currency": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_name": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_orderid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_price": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_price_base": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "ti_quantity": {
                "type": [
                  "integer",
                  "null"
                ]
              },
              "ti_sku": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_affiliation": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_city": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_country": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_currency": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_orderid": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_shipping": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_shipping_base": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_state": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_tax": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_tax_base": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_total": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "tr_total_base": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "true_tstamp": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "txn_id": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "unstruct_event": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "user_fingerprint": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "user_id": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "user_ipaddress": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "useragent": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "v_collector": {
                "type": "string"
              },
              "v_etl": {
                "type": "string"
              },
              "v_tracker": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "processor": {
        "additionalProperties": false,
        "description": "Information about the relay responsible for the creation of the current relay failure",
        "properties": {
          "artifact": {
            "description": "Artifact responsible for the creation of the current relay failure",
            "maxLength": 512,
            "type": "string"
          },
          "version": {
            "description": "Version of the artifact responsible for the creation of the current relay failure",
            "maxLength": 32,
            "pattern": "^(\\d+\\.\\d+\\.\\d+.*)$",
            "type": "string"
          }
        },
        "required": [
          "artifact",
          "version"
        ],
        "type": "object"
      }
    },
    "required": [
      "failure",
      "payload",
      "processor"
    ],
    "self": {
      "format": "jsonschema",
      "name": "relay_failure",
      "vendor": "com.snowplowanalytics.snowplow.badrows",
      "version": "1-0-0"
    },
    "type": "object"
  },
  "tests": [
    {
      "description": "llama 70b generated positive",
      "valid": true,
      "data": {
        "failure": {
          "message": {
            "messageText": "Error occurred while processing event",
            "stackTrace": "Error at line 10, column 20"
          },
          "timestamp": "2022-01-01T12:00:00.000Z"
        },
        "payload": {
          "eventStruct": {
            "app_id": "my_app",
            "base_currency": "USD",
            "br_colordepth": "24",
            "br_cookies": 1,
            "br_family": "Other",
            "br_features_director": 1,
            "br_features_flash": 1,
            "br_features_gears": 0,
            "br_features_java": 1,
            "br_features_pdf": 1,
            "br_features_quicktime": 1,
            "br_features_realplayer": 1,
            "br_features_silverlight": 1,
            "br_features_windowsmedia": 1,
            "br_lang": "en-US",
            "br_name": "Firefox",
            "br_renderengine": "Gecko",
            "br_type": "Browser",
            "br_version": "94.0",
            "br_viewheight": 768,
            "br_viewwidth": 1024,
            "collector_tstamp": "2022-01-01T12:00:00.000Z",
            "contexts": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\",\"data\":[{\"schema\":\"iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-0\",\"data\":{\"firstEventId\":\"12345\",\"sessionId\":\"67890\",\"userId\":\"abcde\"}}]}",
            "derived_contexts": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\",\"data\":[{\"schema\":\"iglu:com.snowplowanalytics.snowplow/derived_contexts/jsonschema/1-0-0\",\"data\":{\"derivedTstamp\":\"2022-01-01T12:00:00.000Z\"}}]}",
            "derived_tstamp": "2022-01-01T12:00:00.000Z",
            "doc_charset": "UTF-8",
            "doc_height": 768,
            "doc_width": 1024,
            "domain_sessionid": "12345",
            "domain_sessionidx": 1,
            "domain_userid": "abcde",
            "dvce_created_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_ismobile": "0",
            "dvce_screenheight": 768,
            "dvce_screenwidth": 1024,
            "dvce_sent_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_type": "Desktop",
            "etl_tags": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/etl_tags/jsonschema/1-0-0\",\"data\":{\"etlVersion\":\"1.0.0\"}}",
            "etl_tstamp": "2022-01-01T12:00:00.000Z",
            "event": "page_view",
            "event_fingerprint": "12345",
            "event_format": "jsonschema",
            "event_id": "67890",
            "event_name": "page_view",
            "event_vendor": "com.snowplowanalytics.snowplow",
            "event_version": "1-0-0",
            "geo_city": "New York",
            "geo_country": "USA",
            "geo_latitude": 40.7128,
            "geo_longitude": -74.006,
            "geo_region": "New York",
            "geo_region_name": "New York",
            "geo_timezone": "America/New_York",
            "geo_zipcode": "10001",
            "ip_domain": "example.com",
            "ip_isp": "Example ISP",
            "ip_netspeed": "DSL",
            "ip_organization": "Example Organization",
            "mkt_campaign": "example_campaign",
            "mkt_clickid": "example_clickid",
            "mkt_content": "example_content",
            "mkt_medium": "example_medium",
            "mkt_network": "example_network",
            "mkt_source": "example_source",
            "mkt_term": "example_term",
            "name_tracker": "example_tracker",
            "network_userid": "example_network_userid",
            "os_family": "Windows",
            "os_manufacturer": "Microsoft",
            "os_name": "Windows 10",
            "os_timezone": "America/New_York",
            "page_referrer": "https://example.com/referrer",
            "page_title": "Example Page",
            "page_url": "https://example.com/page",
            "page_urlfragment": "#fragment",
            "page_urlhost": "example.com",
            "page_urlpath": "/page",
            "page_urlport": 80,
            "page_urlquery": "?query=example",
            "page_urlscheme": "https",
            "platform": "web",
            "pp_xoffset_max": 1024,
            "pp_xoffset_min": 0,
            "pp_yoffset_max": 768,
            "pp_yoffset_min": 0,
            "refr_domain_userid": "example_refr_domain_userid",
            "refr_dvce_tstamp": "2022-01-01T12:00:00.000Z",
            "refr_medium": "example_refr_medium",
            "refr_source": "example_refr_source",
            "refr_term": "example_refr_term",
            "refr_urlfragment": "#fragment",
            "refr_urlhost": "example.com",
            "refr_urlpath": "/page",
            "refr_urlport": 80,
            "refr_urlquery": "?query=example",
            "refr_urlscheme": "https",
            "se_action": "example_se_action",
            "se_category": "example_se_category",
            "se_label": "example_se_label",
            "se_property": "example_se_property",
            "se_value": "example_se_value",
            "ti_category": "example_ti_category",
            "ti_currency": "USD",
            "ti_name": "example_ti_name",
            "ti_orderid": "example_ti_orderid",
            "ti_price": "10.99",
            "ti_price_base": "10.99",
            "ti_quantity": 1,
            "ti_sku": "example_ti_sku",
            "tr_affiliation": "example_tr_affiliation",
            "tr_city": "New York",
            "tr_country": "USA",
            "tr_currency": "USD",
            "tr_orderid": "example_tr_orderid",
            "tr_shipping": "5.99",
            "tr_shipping_base": "5.99",
            "tr_state": "New York",
            "tr_tax": "1.99",
            "tr_tax_base": "1.99",
            "tr_total": "18.97",
            "tr_total_base": "18.97",
            "true_tstamp": "2022-01-01T12:00:00.000Z",
            "txn_id": "example_txn_id",
            "unstruct_event": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\",\"data\":{\"event\":\"example_event\"}}",
            "user_fingerprint": "example_user_fingerprint",
            "user_id": "example_user_id",
            "user_ipaddress": "192.168.1.100",
            "useragent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36",
            "v_collector": "example_v_collector",
            "v_etl": "example_v_etl",
            "v_tracker": "example_v_tracker"
          }
        },
        "processor": {
          "artifact": "snowplow-relay",
          "version": "1.2.3"
        }
      }
    },
    {
      "description": "llama 70b generated positive",
      "valid": true,
      "data": {
        "failure": {
          "message": {
            "messageText": "Error occurred while processing event",
            "stackTrace": "java.lang.RuntimeException: Error occurred while processing event"
          },
          "timestamp": "2022-01-01T12:00:00.000Z"
        },
        "payload": {
          "eventStruct": {
            "app_id": "my_app",
            "br_family": "Firefox",
            "br_name": "Firefox",
            "br_type": "browser",
            "br_version": "95.0",
            "dvce_created_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_sent_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_type": "web",
            "event": "page_view",
            "event_format": "jsonschema",
            "event_id": "12345",
            "event_name": "page_view",
            "event_vendor": "com.snowplowanalytics.snowplow",
            "event_version": "1-0-0",
            "geo_city": "New York",
            "geo_country": "USA",
            "geo_latitude": 40.7128,
            "geo_longitude": -74.006,
            "geo_region": "New York",
            "geo_region_name": "New York",
            "geo_timezone": "America/New_York",
            "geo_zipcode": "10001",
            "os_family": "Windows",
            "os_manufacturer": "Microsoft",
            "os_name": "Windows 10",
            "os_timezone": "America/New_York",
            "page_referrer": "https://www.example.com",
            "page_title": "Example Page",
            "page_url": "https://www.example.com/page",
            "page_urlfragment": "",
            "page_urlhost": "www.example.com",
            "page_urlpath": "/page",
            "page_urlport": 443,
            "page_urlquery": "",
            "page_urlscheme": "https",
            "platform": "web",
            "pp_xoffset_max": 1920,
            "pp_xoffset_min": 0,
            "pp_yoffset_max": 1080,
            "pp_yoffset_min": 0,
            "refr_domain_userid": "12345",
            "refr_dvce_tstamp": "2022-01-01T12:00:00.000Z",
            "refr_medium": "organic",
            "refr_source": "google",
            "refr_term": "example",
            "refr_urlfragment": "",
            "refr_urlhost": "www.example.com",
            "refr_urlpath": "/page",
            "refr_urlport": 443,
            "refr_urlquery": "",
            "refr_urlscheme": "https",
            "se_action": "click",
            "se_category": "button",
            "se_label": "submit",
            "se_property": "value",
            "se_value": "true",
            "ti_category": "product",
            "ti_currency": "USD",
            "ti_name": "Example Product",
            "ti_orderid": "12345",
            "ti_price": "19.99",
            "ti_price_base": "19.99",
            "ti_quantity": 1,
            "ti_sku": "example_sku",
            "tr_affiliation": "example_affiliation",
            "tr_city": "New York",
            "tr_country": "USA",
            "tr_currency": "USD",
            "tr_orderid": "12345",
            "tr_shipping": "5.00",
            "tr_shipping_base": "5.00",
            "tr_state": "New York",
            "tr_tax": "1.00",
            "tr_tax_base": "1.00",
            "tr_total": "25.99",
            "tr_total_base": "25.99",
            "true_tstamp": "2022-01-01T12:00:00.000Z",
            "txn_id": "12345",
            "unstruct_event": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\",\"data\":{\"event_data\":{\"event\":\"page_view\"}}}",
            "user_fingerprint": "12345",
            "user_id": "12345",
            "user_ipaddress": "192.168.1.1",
            "useragent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36",
            "v_collector": "com.snowplowanalytics.snowplow/tp2/1.0.0",
            "v_etl": "com.snowplowanalytics.snowplow/etl/1.0.0",
            "v_tracker": "com.snowplowanalytics.snowplow/javascript-tracker/3.0.0"
          }
        },
        "processor": {
          "artifact": "com.snowplowanalytics.snowplow/relay/1.0.0",
          "version": "1.0.0"
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on oneOf keyword",
      "valid": false,
      "rust_error": "{\"eventStruct\":{\"app_id\":\"my_app\",\"br_family\":\"Firefox\",\"br_name\":\"Firefox\",\"br_type\":\"browser\",\"br_version\":\"95.0\",\"dvce_created_tstamp\":\"2022-01-01T12:00:00.000Z\",\"dvce_sent_tstamp\":\"2022-01-01T12:00:00.000Z\",\"dvce_type\":\"web\",\"event\":\"page_view\",\"event_format\":\"jsonschema\",\"event_id\":\"12345\",\"event_name\":\"page_view\",\"event_vendor\":\"com.snowplowanalytics.snowplow\",\"event_version\":\"1-0-0\",\"geo_city\":\"New York\",\"geo_country\":\"USA\",\"geo_latitude\":40.7128,\"geo_longitude\":-74.006,\"geo_region\":\"New York\",\"geo_region_name\":\"New York\",\"geo_timezone\":\"America/New_York\",\"geo_zipcode\":\"10001\",\"os_family\":\"Windows\",\"os_manufacturer\":\"Microsoft\",\"os_name\":\"Windows 10\",\"os_timezone\":\"America/New_York\",\"page_referrer\":\"https://www.example.com\",\"page_title\":\"Example Page\",\"page_url\":\"https://www.example.com/page\",\"page_urlfragment\":\"\",\"page_urlhost\":\"www.example.com\",\"page_urlpath\":\"/page\",\"page_urlport\":443,\"page_urlquery\":\"\",\"page_urlscheme\":\"https\",\"platform\":\"web\",\"pp_xoffset_max\":1920,\"pp_xoffset_min\":0,\"pp_yoffset_ma.. (1554 more)",
      "python_error": "{'eventStruct': {'app_id': 'my_app', 'br_family': 'Firefox', 'br_name': 'Firefox', 'br_type': 'browser', 'br_version': '95.0', 'dvce_created_tstamp': '2022-01-01T12:00:00.000Z', 'dvce_sent_tstamp': '2022-01-01T12:00:00.000Z', 'dvce_type': 'web', 'event': 'page_view', 'event_format': 'jsonschema', 'event_id': '12345', 'event_name': 'page_view', 'event_vendor': 'com.snowplowanalytics.snowplow', 'event_version': '1-0-0', 'geo_city': 'New York', 'geo_country': 'USA', 'geo_latitude': 40.7128, 'geo_longitude': -74.006, 'geo_region': 'New York', 'geo_region_name': 'New York', 'geo_timezone': 'America/New_York', 'geo_zipcode': '10001', 'os_family': 'Windows', 'os_manufacturer': 'Microsoft', 'os_name': 'Windows 10', 'os_timezone': 'America/New_York', 'page_referrer': 'https://www.example.com', 'page_title': 'Example Page', 'page_url': 'https://www.example.com/page', 'page_urlfragment': '', 'page_urlhost': 'www.example.com', 'page_urlpath': '/page', 'page_urlport': 443, 'page_urlquery': '', 'page_urlscheme': 'https', '.. (29627 more)",
      "data": {
        "failure": {
          "message": {
            "messageText": "Error occurred while processing event",
            "stackTrace": "java.lang.RuntimeException: Error occurred while processing event"
          },
          "timestamp": "2022-01-01T12:00:00.000Z"
        },
        "payload": {
          "eventStruct": {
            "app_id": "my_app",
            "br_family": "Firefox",
            "br_name": "Firefox",
            "br_type": "browser",
            "br_version": "95.0",
            "dvce_created_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_sent_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_type": "web",
            "event": "page_view",
            "event_format": "jsonschema",
            "event_id": "12345",
            "event_name": "page_view",
            "event_vendor": "com.snowplowanalytics.snowplow",
            "event_version": "1-0-0",
            "geo_city": "New York",
            "geo_country": "USA",
            "geo_latitude": 40.7128,
            "geo_longitude": -74.006,
            "geo_region": "New York",
            "geo_region_name": "New York",
            "geo_timezone": "America/New_York",
            "geo_zipcode": "10001",
            "os_family": "Windows",
            "os_manufacturer": "Microsoft",
            "os_name": "Windows 10",
            "os_timezone": "America/New_York",
            "page_referrer": "https://www.example.com",
            "page_title": "Example Page",
            "page_url": "https://www.example.com/page",
            "page_urlfragment": "",
            "page_urlhost": "www.example.com",
            "page_urlpath": "/page",
            "page_urlport": 443,
            "page_urlquery": "",
            "page_urlscheme": "https",
            "platform": "web",
            "pp_xoffset_max": 1920,
            "pp_xoffset_min": 0,
            "pp_yoffset_max": 1080,
            "pp_yoffset_min": 0,
            "refr_domain_userid": "12345",
            "refr_dvce_tstamp": "2022-01-01T12:00:00.000Z",
            "refr_medium": "organic",
            "refr_source": "google",
            "refr_term": "example",
            "refr_urlfragment": "",
            "refr_urlhost": "www.example.com",
            "refr_urlpath": "/page",
            "refr_urlport": 443,
            "refr_urlquery": "",
            "refr_urlscheme": "https",
            "se_action": "click",
            "se_category": "button",
            "se_label": "submit",
            "se_property": "value",
            "se_value": "true",
            "ti_category": "product",
            "ti_currency": "USD",
            "ti_name": "Example Product",
            "ti_orderid": "12345",
            "ti_price": "19.99",
            "ti_price_base": "19.99",
            "ti_quantity": 1,
            "ti_sku": "example_sku",
            "tr_affiliation": "example_affiliation",
            "tr_city": "New York",
            "tr_country": "USA",
            "tr_currency": "USD",
            "tr_orderid": "12345",
            "tr_shipping": "5.00",
            "tr_shipping_base": "5.00",
            "tr_state": "New York",
            "tr_tax": "1.00",
            "tr_tax_base": "1.00",
            "tr_total": "25.99",
            "tr_total_base": "25.99",
            "true_tstamp": "2022-01-01T12:00:00.000Z",
            "txn_id": "12345",
            "unstruct_event": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\",\"data\":{\"event_data\":{\"event\":\"page_view\"}}}",
            "user_fingerprint": "12345",
            "user_id": "12345",
            "user_ipaddress": "192.168.1.1",
            "useragent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36",
            "v_collector": "com.snowplowanalytics.snowplow/tp2/1.0.0",
            "v_etl": "com.snowplowanalytics.snowplow/etl/1.0.0",
            "v_tracker": "com.snowplowanalytics.snowplow/javascript-tracker/3.0.0"
          },
          "eventRaw": "raw_event"
        },
        "processor": {
          "artifact": "com.snowplowanalytics.snowplow/relay/1.0.0",
          "version": "1.0.0"
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on type keyword with an array of types",
      "valid": false,
      "rust_error": "12345 is not of types \"null\", \"string\"",
      "python_error": "12345 is not of type 'string', 'null'\n\nFailed validating 'type' in schema['properties']['failure']['properties']['message']['properties']['stackTrace']:\n    {'description': 'Stack trace if available', 'type': ['string', 'null']}\n\nOn instance['failure']['message']['stackTrace']:\n    12345",
      "data": {
        "failure": {
          "message": {
            "messageText": "Error occurred while processing event",
            "stackTrace": 12345
          },
          "timestamp": "2022-01-01T12:00:00.000Z"
        },
        "payload": {
          "eventStruct": {
            "app_id": "my_app",
            "br_family": "Firefox",
            "br_name": "Firefox",
            "br_type": "browser",
            "br_version": "95.0",
            "dvce_created_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_sent_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_type": "web",
            "event": "page_view",
            "event_format": "jsonschema",
            "event_id": "12345",
            "event_name": "page_view",
            "event_vendor": "com.snowplowanalytics.snowplow",
            "event_version": "1-0-0",
            "geo_city": "New York",
            "geo_country": "USA",
            "geo_latitude": 40.7128,
            "geo_longitude": -74.006,
            "geo_region": "New York",
            "geo_region_name": "New York",
            "geo_timezone": "America/New_York",
            "geo_zipcode": "10001",
            "os_family": "Windows",
            "os_manufacturer": "Microsoft",
            "os_name": "Windows 10",
            "os_timezone": "America/New_York",
            "page_referrer": "https://www.example.com",
            "page_title": "Example Page",
            "page_url": "https://www.example.com/page",
            "page_urlfragment": "",
            "page_urlhost": "www.example.com",
            "page_urlpath": "/page",
            "page_urlport": 443,
            "page_urlquery": "",
            "page_urlscheme": "https",
            "platform": "web",
            "pp_xoffset_max": 1920,
            "pp_xoffset_min": 0,
            "pp_yoffset_max": 1080,
            "pp_yoffset_min": 0,
            "refr_domain_userid": "12345",
            "refr_dvce_tstamp": "2022-01-01T12:00:00.000Z",
            "refr_medium": "organic",
            "refr_source": "google",
            "refr_term": "example",
            "refr_urlfragment": "",
            "refr_urlhost": "www.example.com",
            "refr_urlpath": "/page",
            "refr_urlport": 443,
            "refr_urlquery": "",
            "refr_urlscheme": "https",
            "se_action": "click",
            "se_category": "button",
            "se_label": "submit",
            "se_property": "value",
            "se_value": "true",
            "ti_category": "product",
            "ti_currency": "USD",
            "ti_name": "Example Product",
            "ti_orderid": "12345",
            "ti_price": "19.99",
            "ti_price_base": "19.99",
            "ti_quantity": 1,
            "ti_sku": "example_sku",
            "tr_affiliation": "example_affiliation",
            "tr_city": "New York",
            "tr_country": "USA",
            "tr_currency": "USD",
            "tr_orderid": "12345",
            "tr_shipping": "5.00",
            "tr_shipping_base": "5.00",
            "tr_state": "New York",
            "tr_tax": "1.00",
            "tr_tax_base": "1.00",
            "tr_total": "25.99",
            "tr_total_base": "25.99",
            "true_tstamp": "2022-01-01T12:00:00.000Z",
            "txn_id": "12345",
            "unstruct_event": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\",\"data\":{\"event_data\":{\"event\":\"page_view\"}}}",
            "user_fingerprint": "12345",
            "user_id": "12345",
            "user_ipaddress": "192.168.1.1",
            "useragent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36",
            "v_collector": "com.snowplowanalytics.snowplow/tp2/1.0.0",
            "v_etl": "com.snowplowanalytics.snowplow/etl/1.0.0",
            "v_tracker": "com.snowplowanalytics.snowplow/javascript-tracker/3.0.0"
          }
        },
        "processor": {
          "artifact": "com.snowplowanalytics.snowplow/relay/1.0.0",
          "version": "1.0.0"
        }
      }
    },
    {
      "description": "llama-70b generated negative",
      "valid": false,
      "rust_error": "12345 is not of type \"string\"",
      "python_error": "12345 is not of type 'string'\n\nFailed validating 'type' in schema['properties']['processor']['properties']['artifact']:\n    {'description': 'Artifact responsible for the creation of the current '\n                    'relay failure',\n     'maxLength': 512,\n     'type': 'string'}\n\nOn instance['processor']['artifact']:\n    12345",
      "data": {
        "failure": {
          "message": {
            "messageText": "Error occurred while processing event"
          },
          "timestamp": "2022-01-01T12:00:00"
        },
        "payload": {
          "eventStruct": {
            "app_id": "my_app",
            "br_family": "Firefox",
            "br_name": "Firefox",
            "br_type": "browser",
            "br_version": "95.0",
            "dvce_created_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_sent_tstamp": "2022-01-01T12:00:00.000Z",
            "dvce_type": "web",
            "event": "page_view",
            "event_format": "jsonschema",
            "event_id": "12345",
            "event_name": "page_view",
            "event_vendor": "com.snowplowanalytics.snowplow",
            "event_version": "1-0-0",
            "geo_city": "New York",
            "geo_country": "USA",
            "geo_latitude": 40.7128,
            "geo_longitude": -74.006,
            "geo_region": "New York",
            "geo_region_name": "New York",
            "geo_timezone": "America/New_York",
            "geo_zipcode": "10001",
            "os_family": "Windows",
            "os_manufacturer": "Microsoft",
            "os_name": "Windows 10",
            "os_timezone": "America/New_York",
            "page_referrer": "https://www.example.com",
            "page_title": "Example Page",
            "page_url": "https://www.example.com/page",
            "page_urlfragment": "",
            "page_urlhost": "www.example.com",
            "page_urlpath": "/page",
            "page_urlport": 443,
            "page_urlquery": "",
            "page_urlscheme": "https",
            "platform": "web",
            "pp_xoffset_max": 1920,
            "pp_xoffset_min": 0,
            "pp_yoffset_max": 1080,
            "pp_yoffset_min": 0,
            "refr_domain_userid": "12345",
            "refr_dvce_tstamp": "2022-01-01T12:00:00.000Z",
            "refr_medium": "organic",
            "refr_source": "google",
            "refr_term": "example",
            "refr_urlfragment": "",
            "refr_urlhost": "www.example.com",
            "refr_urlpath": "/page",
            "refr_urlport": 443,
            "refr_urlquery": "",
            "refr_urlscheme": "https",
            "se_action": "click",
            "se_category": "button",
            "se_label": "submit",
            "se_property": "value",
            "se_value": "true",
            "ti_category": "product",
            "ti_currency": "USD",
            "ti_name": "Example Product",
            "ti_orderid": "12345",
            "ti_price": "19.99",
            "ti_price_base": "19.99",
            "ti_quantity": 1,
            "ti_sku": "example_sku",
            "tr_affiliation": "example_affiliation",
            "tr_city": "New York",
            "tr_country": "USA",
            "tr_currency": "USD",
            "tr_orderid": "12345",
            "tr_shipping": "5.00",
            "tr_shipping_base": "5.00",
            "tr_state": "New York",
            "tr_tax": "1.00",
            "tr_tax_base": "1.00",
            "tr_total": "25.99",
            "tr_total_base": "25.99",
            "true_tstamp": "2022-01-01T12:00:00.000Z",
            "txn_id": "12345",
            "unstruct_event": "{\"schema\":\"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\",\"data\":{\"event_data\":{\"event\":\"page_view\"}}}",
            "user_fingerprint": "12345",
            "user_id": "12345",
            "user_ipaddress": "192.168.1.1",
            "useragent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36",
            "v_collector": "com.snowplowanalytics.snowplow/tp2/1.0.0",
            "v_etl": "com.snowplowanalytics.snowplow/etl/1.0.0",
            "v_tracker": "com.snowplowanalytics.snowplow/javascript-tracker/3.0.0"
          }
        },
        "processor": {
          "artifact": 12345,
          "version": "1.0.0"
        }
      }
    }
  ]
}
{
  "description": "sample JsonSchemaStore/2021-07.json",
  "meta": {
    "full_size": 9675,
    "stripped_size": 2708,
    "features": [
      "additionalProperties",
      "additionalProperties:object",
      "enum",
      "items"
    ],
    "raw_features": [
      "$schema",
      "_boolSchema",
      "id",
      "properties",
      "required",
      "type",
      "type:[]",
      "type:array",
      "type:boolean",
      "type:integer",
      "type:object",
      "type:string"
    ]
  },
  "schema": {
    "$schema": "http://json-schema.org/draft-04/schema",
    "id": "https://json.schemastore.org/gatewaycore-options-2021-07",
    "title": "Cloudtoid GatewayCore Options",
    "description": "Root Schema of options for Cloudtoid GatewayCore",
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "system": {
        "type": "object",
        "description": "This section that contains all system wide configurations.",
        "additionalProperties": false,
        "properties": {
          "routeCacheMaxCount": {
            "type": "integer",
            "default": 100000,
            "description": "The maximum number of mappings between \"inbound downstream request path\" and \"outbound upstream request URL\" that can be cached in memory."
          }
        }
      },
      "routes": {
        "type": "object",
        "description": "This is the section in which proxy routes are defined.",
        "additionalProperties": {
          "type": "object",
          "description": "This is the url path pattern that if matched, the request is proxied to the address defined by its `to` property.",
          "additionalProperties": false,
          "properties": {
            "proxy": {
              "type": "object",
              "description": "The proxy configuration.",
              "additionalProperties": false,
              "properties": {
                "to": {
                  "type": "string",
                  "description": "This is an expression that defines the URL of the upstream server to which the downstream request is forwarded to.",
                  "examples": [
                    "http://example.com:85/api/"
                  ]
                },
                "proxyName": {
                  "type": "string",
                  "description": "This is an expression that defines the name of this proxy. This value is used in the Via HTTP header send on the outbound upstream request, and the outbound downstream response. If a value is specified, an `x-gwcore-proxy-name` header with this value is also added to the outbound upstream request.",
                  "default": "gwcore"
                },
                "upstreamRequest": {
                  "type": "object",
                  "description": "The options that control the upstream requests.",
                  "additionalProperties": false,
                  "properties": {
                    "httpVersion": {
                      "type": "string",
                      "description": "An expression that defines the HTTP protocol version of outbound upstream requests.",
                      "default": "HTTP/2.0"
                    },
                    "headers": {
                      "type": "object",
                      "description": "The options that control the upstream request headers.",
                      "additionalProperties": false,
                      "properties": {
                        "discardInboundHeaders": {
                          "type": "boolean",
                          "description": "Specifies if downstream inbound request and content headers should be discarded and not forwarded to the upstream.",
                          "default": false
                        },
                        "discardEmpty": {
                          "type": "boolean",
                          "description": "Specifies if inbound headers with empty value should be discarded.",
                          "default": false
                        },
                        "discardUnderscore": {
                          "type": "boolean",
                          "description": "Specifies if inbound headers with an underscore in their name should be discarded.",
                          "default": false
                        },
                        "addExternalAddress": {
                          "type": "boolean",
                          "description": "Specifies if a `x-gwcore-external-address` header with the IP address of the immediate caller should be added to the outbound upstream request.",
                          "default": false
                        },
                        "skipVia": {
                          "type": "boolean",
                          "description": "Specifies if the `via` header should be skipped from the outbound request.",
                          "default": false
                        },
                        "skipForwarded": {
                          "type": "boolean",
                          "description": "Specifies if `forwarded` header and `x-forwarded-*` headers should be skipped from the outbound requests.",
                          "default": false
                        },
                        "appends": {
                          "type": "object",
                          "description": "The headers to be appended to the outbound upstream requests. If the header already exists, it is kept and the new value is appended. The value can be either text or an expression.",
                          "additionalProperties": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "description": "The value can be either text or an expression."
                            }
                          }
                        },
                        "overrides": {
                          "type": "object",
                          "description": "The headers to be added to the outbound upstream requests. If the header already exists, its value is replaced. The value can be either text or an expression.",
                          "additionalProperties": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "description": "The value can be either text or an expression."
                            }
                          }
                        },
                        "discards": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "description": "Specifies the inbound downstream headers that should be discarded."
                          }
                        }
                      }
                    },
                    "sender": {
                      "type": "object",
                      "description": "The options that control connection to the upstream server.",
                      "additionalProperties": false,
                      "properties": {
                        "httpClientName": {
                          "type": "string",
                          "description": "The name of the .NET HttpClient that will be used to send the request. The default value is a system generated unique name."
                        },
                        "timeoutInMilliseconds": {
                          "type": [
                            "string",
                            "integer"
                          ],
                          "description": "The total timeout in milliseconds to wait for the outbound upstream request to complete. This can be a number or an expression.",
                          "default": 240000
                        },
                        "connectTimeoutInMilliseconds": {
                          "type": "integer",
                          "description": "The connect timeout in milliseconds. No timeout is set by default."
                        },
                        "expect100ContinueTimeoutInMilliseconds": {
                          "type": "integer",
                          "description": "The expect 100 continue timeout in milliseconds.",
                          "default": 1000
                        },
                        "pooledConnectionIdleTimeoutInMilliseconds": {
                          "type": "integer",
                          "description": "Specifies how long a connection can be idle in the pool to be considered reusable.",
                          "default": 2000
                        },
                        "pooledConnectionLifetimeInMilliseconds": {
                          "type": "integer",
                          "description": "Specifies how long a connection can live in the connection pool. By default, no timeout is set and the connection can stay in the pool."
                        },
                        "responseDrainTimeoutInMilliseconds": {
                          "type": "integer",
                          "description": "Specifies the response drain timeout.",
                          "default": 2000
                        },
                        "maxAutomaticRedirections": {
                          "type": "integer",
                          "description": "The maximum number of allowed HTTP redirects.",
                          "default": 50
                        },
                        "maxConnectionsPerServer": {
                          "type": "integer",
                          "description": "The maximum number of simultaneous TCP connections allowed to a single server. No caps are set by default."
                        },
                        "maxResponseDrainSizeInBytes": {
                          "type": "integer",
                          "description": "The maximum size of data that can be drained from responses in bytes.",
                          "default": 1048576
                        },
                        "maxResponseHeadersLengthInKilobytes": {
                          "type": "integer",
                          "description": "The maximum length, in kilobytes (1024 bytes), of the response headers.",
                          "default": 64
                        },
                        "allowAutoRedirect": {
                          "type": "boolean",
                          "description": "Indicates whether the HTTP handler used by the outbound upstream request sender should follow redirection responses.",
                          "default": false
                        },
                        "useCookies": {
                          "type": "boolean",
                          "description": "Indicates whether the HTTP handler used by the outbound upstream request sender should store server cookies and use these cookies when sending requests.",
                          "default": false
                        }
                      }
                    }
                  }
                },
                "downstreamResponse": {
                  "type": "object",
                  "description": "The options that control the downstream responses sent to the clients.",
                  "additionalProperties": false,
                  "properties": {
                    "headers": {
                      "type": "object",
                      "description": "The options that control the downstream response headers sent to the clients.",
                      "additionalProperties": false,
                      "properties": {
                        "discardInboundHeaders": {
                          "type": "boolean",
                          "description": "Specifies if upstream inbound response, content, and trailing headers should be discarded and not forwarded to the downstream client.",
                          "default": false
                        },
                        "discardEmpty": {
                          "type": "boolean",
                          "description": "Specifies if inbound headers with empty value should be discarded.",
                          "default": false
                        },
                        "discardUnderscore": {
                          "type": "boolean",
                          "description": "Specifies if inbound headers with an underscore in their name should be discarded.",
                          "default": false
                        },
                        "addServer": {
                          "type": "boolean",
                          "description": "Specifies if a `server` header should be added. The value of this header is set to `gwcore`.",
                          "default": false
                        },
                        "addVia": {
                          "type": "boolean",
                          "description": "Specifies if the `via` header should be added to the outbound response.",
                          "default": false
                        },
                        "cookies": {
                          "type": "object",
                          "description": "The options that are applied to the `set-cookie` headers in the inbound upstream response. If the cookie name is symbol '*', then the settings are applied to all `set-cookie` headers.",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "secure": {
                                "type": "boolean",
                                "description": "It limits the scope of the cookie to 'secure' channels. A secure cookie is only sent to the server when a request is made using HTTPS.",
                                "default": false
                              },
                              "httpOnly": {
                                "type": "boolean",
                                "description": "It limits the scope of the cookie to HTTP requests, forbidding JavaScript from accessing the cookie.",
                                "default": false
                              },
                              "sameSite": {
                                "type": "string",
                                "description": "It asserts that a cookie must not be sent with cross-origin requests, providing some protection against cross-site request forgery attacks. The valid values are `strict`, `lax`, and `none`.",
                                "enum": [
                                  "none",
                                  "lax",
                                  "strict"
                                ],
                                "default": "lax"
                              },
                              "domain": {
                                "type": "string",
                                "description": "It specifies the hosts to which the cookie will be sent and can be an expression. For example, if the value of the Domain attribute is 'example.com', the user agent will include the cookie in the Cookie header when making HTTP requests to example.com, www.example.com, and www.corp.example.com. Use this property to specify or override the domain attribute. Set this value to an empty string (\"\") to remove the domain attribute from the cookie.",
                                "examples": [
                                  "example.com"
                                ]
                              }
                            }
                          }
                        },
                        "appends": {
                          "type": "object",
                          "description": "The headers to be appended to the outbound downstream response. If the header already exists, it is kept and the new value is appended. The value can be either text or an expression.",
                          "additionalProperties": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "description": "The value can be either text or an expression."
                            }
                          }
                        },
                        "overrides": {
                          "type": "object",
                          "description": "The headers to be added to the outbound downstream response. If the header already exists, its value is replaced. The value can be either text or an expression.",
                          "additionalProperties": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "description": "The value can be either text or an expression."
                            }
                          }
                        },
                        "discards": {
                          "type": "array",
                          "description": "The inbound upstream headers that should be discarded.",
                          "items": {
                            "type": "string",
                            "description": "The name of the header to be discarded."
                          }
                        }
                      }
                    }
                  }
                }
              },
              "required": [
                "to"
              ]
            }
          }
        }
      }
    }
  },
  "tests": [
    {
      "description": "llama 70b generated valid",
      "valid": true,
      "data": {
        "system": {
          "routeCacheMaxCount": 100000
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": 240000,
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "lax",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on additionalProperties keyword with an object schema",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('invalidProperty' was unexpected)",
      "python_error": "Additional properties are not allowed ('invalidProperty' was unexpected)\n\nFailed validating 'additionalProperties' in schema['properties']['system']:\n    {'type': 'object',\n     'description': 'This section that contains all system wide '\n                    'configurations.',\n     'additionalProperties': False,\n     'properties': {'routeCacheMaxCount': {'type': 'integer',\n                                           'default': 100000,\n                                           'description': 'The maximum '\n                                                          'number of '\n                                                          'mappings '\n                                                          'between '\n                                                          '\"inbound '\n                                                          'downstream '\n                                                          'request path\" '\n                                                          'and \"outbound '\n           .. (442 more)",
      "data": {
        "system": {
          "routeCacheMaxCount": 100000,
          "invalidProperty": "Invalid Value"
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": 240000,
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false,
                  "invalidProperty": "Invalid Value"
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "lax",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative",
      "valid": false,
      "rust_error": "\"100000\" is not of type \"integer\"",
      "python_error": "'100000' is not of type 'integer'\n\nFailed validating 'type' in schema['properties']['system']['properties']['routeCacheMaxCount']:\n    {'type': 'integer',\n     'default': 100000,\n     'description': 'The maximum number of mappings between \"inbound '\n                    'downstream request path\" and \"outbound upstream '\n                    'request URL\" that can be cached in memory.'}\n\nOn instance['system']['routeCacheMaxCount']:\n    '100000'",
      "data": {
        "system": {
          "routeCacheMaxCount": "100000"
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": 240000,
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "invalid",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on type keyword with an array of types",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('Changed to string' was unexpected)",
      "python_error": "Additional properties are not allowed ('downstreamResponse' was unexpected)\n\nFailed validating 'additionalProperties' in schema['properties']['routes']['additionalProperties']:\n    {'type': 'object',\n     'description': 'This is the url path pattern that if matched, the '\n                    'request is proxied to the address defined by its `to` '\n                    'property.',\n     'additionalProperties': False,\n     'properties': {'proxy': {'type': 'object',\n                              'description': 'The proxy configuration.',\n                              'additionalProperties': False,\n                              'properties': {'to': {'type': 'string',\n                                                    'description': 'This '\n                                                                   'is an '\n                                                                   'expression '\n                                                                   'that '\n                                              .. (144256 more)",
      "data": {
        "system": {
          "routeCacheMaxCount": 100000
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": "240000",
                  "Changed to string": "connectTimeoutInMilliseconds"
                },
                "expect100ContinueTimeoutInMilliseconds": 1000,
                "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                "pooledConnectionLifetimeInMilliseconds": 30000,
                "responseDrainTimeoutInMilliseconds": 2000,
                "maxAutomaticRedirections": 50,
                "maxConnectionsPerServer": 10,
                "maxResponseDrainSizeInBytes": 1048576,
                "maxResponseHeadersLengthInKilobytes": 64,
                "allowAutoRedirect": false,
                "useCookies": false
              }
            },
            "downstreamResponse": {
              "headers": {
                "discardInboundHeaders": false,
                "discardEmpty": false,
                "discardUnderscore": false,
                "addServer": false,
                "addVia": false,
                "cookies": {
                  "*": {
                    "secure": false,
                    "httpOnly": false,
                    "sameSite": "lax",
                    "domain": "example.com"
                  }
                },
                "appends": {
                  "X-Forwarded-For": [
                    "${request.headers['X-Forwarded-For']}",
                    "${request.remoteAddress}"
                  ]
                },
                "overrides": {
                  "Host": [
                    "${request.headers['Host']}"
                  ]
                },
                "discards": [
                  "X-Forwarded-Host"
                ]
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on additionalProperties keyword with an object schema",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('additionalProperty' was unexpected)",
      "python_error": "Additional properties are not allowed ('additionalProperty' was unexpected)\n\nFailed validating 'additionalProperties' in schema['properties']['system']:\n    {'type': 'object',\n     'description': 'This section that contains all system wide '\n                    'configurations.',\n     'additionalProperties': False,\n     'properties': {'routeCacheMaxCount': {'type': 'integer',\n                                           'default': 100000,\n                                           'description': 'The maximum '\n                                                          'number of '\n                                                          'mappings '\n                                                          'between '\n                                                          '\"inbound '\n                                                          'downstream '\n                                                          'request path\" '\n                                                          'and \"outbound '\n        .. (444 more)",
      "data": {
        "system": {
          "routeCacheMaxCount": 100000,
          "additionalProperty": "someValue"
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ],
                  "additionalProperty": "someValue"
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": 240000,
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "lax",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ],
                  "additionalProperty": "someValue"
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative",
      "valid": false,
      "rust_error": "\"100000\" is not of type \"integer\"",
      "python_error": "'100000' is not of type 'integer'\n\nFailed validating 'type' in schema['properties']['system']['properties']['routeCacheMaxCount']:\n    {'type': 'integer',\n     'default': 100000,\n     'description': 'The maximum number of mappings between \"inbound '\n                    'downstream request path\" and \"outbound upstream '\n                    'request URL\" that can be cached in memory.'}\n\nOn instance['system']['routeCacheMaxCount']:\n    '100000'",
      "data": {
        "system": {
          "routeCacheMaxCount": "100000"
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": "240000",
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "invalid",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Forwarded-For": [
                      "${request.headers['X-Forwarded-For']}",
                      "${request.remoteAddress}"
                    ]
                  },
                  "overrides": {
                    "Host": [
                      "${request.headers['Host']}"
                    ]
                  },
                  "discards": [
                    "X-Forwarded-Host"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama 70b generated positive",
      "valid": true,
      "data": {
        "system": {
          "routeCacheMaxCount": 100000
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Custom-Header": [
                      "value1",
                      "value2"
                    ]
                  },
                  "overrides": {
                    "X-Custom-Header": [
                      "value3"
                    ]
                  },
                  "discards": [
                    "X-Header-To-Discard"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": 240000,
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "lax",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Custom-Header": [
                      "value1",
                      "value2"
                    ]
                  },
                  "overrides": {
                    "X-Custom-Header": [
                      "value3"
                    ]
                  },
                  "discards": [
                    "X-Header-To-Discard"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on type keyword with an array of types",
      "valid": false,
      "rust_error": "Additional properties are not allowed (' <= This should be invalid, as timeoutInMilliseconds can be either an integer or a string, but should represent a number in both cases. However, this is a string that doesn't represent a number. A validator that doesn't support type keyword with an array of types might not catch this error correctly, and might either always allow this value or always disallow it, regardless of whether it's a valid number or not. It should be invalid according to the schema, but a validator that doesn't support type keyword with an array of types might have a bug here.' was unexpected)",
      "python_error": "Additional properties are not allowed (\" <= This should be invalid, as timeoutInMilliseconds can be either an integer or a string, but should represent a number in both cases. However, this is a string that doesn't represent a number. A validator that doesn't support type keyword with an array of types might not catch this error correctly, and might either always allow this value or always disallow it, regardless of whether it's a valid number or not. It should be invalid according to the schema, but a validator that doesn't support type keyword with an array of types might have a bug here.\" was unexpected)\n\nFailed validating 'additionalProperties' in schema['properties']['routes']['additionalProperties']['properties']['proxy']['properties']['upstreamRequest']['properties']['sender']:\n    {'type': 'object',\n     'description': 'The options that control connection to the upstream '\n                    'server.',\n     'additionalProperties': False,\n     'properties': {'httpClientName': {'type': 'string',\n      .. (13942 more)",
      "data": {
        "system": {
          "routeCacheMaxCount": 100000
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Custom-Header": [
                      "value1",
                      "value2"
                    ]
                  },
                  "overrides": {
                    "X-Custom-Header": [
                      "value3"
                    ]
                  },
                  "discards": [
                    "X-Header-To-Discard"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": "not a number",
                  " <= This should be invalid, as timeoutInMilliseconds can be either an integer or a string, but should represent a number in both cases. However, this is a string that doesn't represent a number. A validator that doesn't support type keyword with an array of types might not catch this error correctly, and might either always allow this value or always disallow it, regardless of whether it's a valid number or not. It should be invalid according to the schema, but a validator that doesn't support type keyword with an array of types might have a bug here.": "connectTimeoutInMilliseconds",
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "lax",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Custom-Header": [
                      "value1",
                      "value2"
                    ]
                  },
                  "overrides": {
                    "X-Custom-Header": [
                      "value3"
                    ]
                  },
                  "discards": [
                    "X-Header-To-Discard"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on additionalProperties keyword with an object schema",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('extraProperty' was unexpected)",
      "python_error": "Additional properties are not allowed ('extraProperty' was unexpected)\n\nFailed validating 'additionalProperties' in schema['properties']['system']:\n    {'type': 'object',\n     'description': 'This section that contains all system wide '\n                    'configurations.',\n     'additionalProperties': False,\n     'properties': {'routeCacheMaxCount': {'type': 'integer',\n                                           'default': 100000,\n                                           'description': 'The maximum '\n                                                          'number of '\n                                                          'mappings '\n                                                          'between '\n                                                          '\"inbound '\n                                                          'downstream '\n                                                          'request path\" '\n                                                          'and \"outbound '\n             .. (435 more)",
      "data": {
        "system": {
          "routeCacheMaxCount": 100000,
          "extraProperty": "extraValue"
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "http://example.com:85/api/",
              "proxyName": "gwcore",
              "upstreamRequest": {
                "httpVersion": "HTTP/2.0",
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addExternalAddress": false,
                  "skipVia": false,
                  "skipForwarded": false,
                  "appends": {
                    "X-Custom-Header": [
                      "value1",
                      "value2"
                    ]
                  },
                  "overrides": {
                    "X-Custom-Header": [
                      "value3"
                    ]
                  },
                  "discards": [
                    "X-Header-To-Discard"
                  ]
                },
                "sender": {
                  "httpClientName": "gwcore-http-client",
                  "timeoutInMilliseconds": 240000,
                  "connectTimeoutInMilliseconds": 10000,
                  "expect100ContinueTimeoutInMilliseconds": 1000,
                  "pooledConnectionIdleTimeoutInMilliseconds": 2000,
                  "pooledConnectionLifetimeInMilliseconds": 30000,
                  "responseDrainTimeoutInMilliseconds": 2000,
                  "maxAutomaticRedirections": 50,
                  "maxConnectionsPerServer": 10,
                  "maxResponseDrainSizeInBytes": 1048576,
                  "maxResponseHeadersLengthInKilobytes": 64,
                  "allowAutoRedirect": false,
                  "useCookies": false,
                  "extraProperty": "extraValue"
                }
              },
              "downstreamResponse": {
                "headers": {
                  "discardInboundHeaders": false,
                  "discardEmpty": false,
                  "discardUnderscore": false,
                  "addServer": false,
                  "addVia": false,
                  "cookies": {
                    "*": {
                      "secure": false,
                      "httpOnly": false,
                      "sameSite": "lax",
                      "domain": "example.com"
                    }
                  },
                  "appends": {
                    "X-Custom-Header": [
                      "value1",
                      "value2"
                    ]
                  },
                  "overrides": {
                    "X-Custom-Header": [
                      "value3"
                    ]
                  },
                  "discards": [
                    "X-Header-To-Discard"
                  ]
                }
              }
            }
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative",
      "valid": false,
      "rust_error": "\"not an integer\" is not of type \"integer\"",
      "python_error": "'not an integer' is not of type 'integer'\n\nFailed validating 'type' in schema['properties']['system']['properties']['routeCacheMaxCount']:\n    {'type': 'integer',\n     'default': 100000,\n     'description': 'The maximum number of mappings between \"inbound '\n                    'downstream request path\" and \"outbound upstream '\n                    'request URL\" that can be cached in memory.'}\n\nOn instance['system']['routeCacheMaxCount']:\n    'not an integer'",
      "data": {
        "system": {
          "routeCacheMaxCount": "not an integer"
        },
        "routes": {
          "/api": {
            "proxy": {
              "to": "not a valid url",
              "proxyName": 123,
              "should be a string": "upstreamRequest"
            }
          }
        }
      }
    }
  ]
}
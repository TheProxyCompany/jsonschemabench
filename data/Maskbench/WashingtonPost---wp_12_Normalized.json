{
  "description": "sample WashingtonPost/wp_12_Normalized.json",
  "meta": {
    "full_size": 3712,
    "stripped_size": 2329,
    "features": [
      "$ref",
      "@siblingKeys",
      "additionalProperties",
      "additionalProperties:object",
      "enum",
      "pattern"
    ],
    "raw_features": [
      "$schema",
      "_boolSchema",
      "allOf:trivial",
      "definitions",
      "properties",
      "required",
      "type",
      "type:object",
      "type:string"
    ]
  },
  "schema": {
    "$schema": "http://json-schema.org/draft-04/schema",
    "allOf": [
      {
        "properties": {
          "body": {
            "$ref": "#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_publication_pitch_json",
            "description": "The object being inserted/updated"
          },
          "date": {
            "_format": "date-time",
            "description": "When the operation should be considered performed",
            "type": "string"
          },
          "id": {
            "description": "The id of the item being operated",
            "type": "string"
          },
          "operation": {
            "description": "The identifier of the operation being performed",
            "enum": [
              "create",
              "update"
            ],
            "type": "string"
          },
          "organization_id": {
            "description": "The id of the organization",
            "type": "string"
          },
          "type": {
            "description": "Identifies this as an ANS operation",
            "enum": [
              "publication-pitch-operation"
            ],
            "type": "string"
          },
          "version": {
            "description": "The version of ANS this item is written in",
            "type": "string"
          }
        },
        "required": [
          "type",
          "operation",
          "id",
          "organization_id",
          "body"
        ]
      }
    ],
    "definitions": {
      "https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json": {
        "$schema": "http://json-schema.org/draft-04/schema#",
        "additionalProperties": {},
        "description": "A grab-bag object for non-validatable data.",
        "title": "Has additional properties",
        "type": "object"
      },
      "https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_publication_pitch_event_json": {
        "$schema": "http://json-schema.org/draft-04/schema#",
        "additionalProperties": false,
        "description": "Trait that represents an update event for a pitch to a publication. In the Arc ecosystem, this data is generated by WebSked.",
        "properties": {
          "additional_properties": {
            "$ref": "#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json"
          },
          "edition_id": {
            "description": "The ID of the publication edition that this pitch targets.",
            "type": "string"
          },
          "edition_time": {
            "_format": "date-time",
            "description": "The time of the publication edition that this pitch targets.",
            "type": "string"
          },
          "note": {
            "description": "Optional note associated with this update.",
            "type": "string"
          },
          "status": {
            "description": "The current status of the pitch.",
            "pattern": "^([a-z]|[ ])*$",
            "type": "string"
          },
          "time": {
            "_format": "date-time",
            "description": "The time of this update.",
            "type": "string"
          },
          "user_id": {
            "description": "The ID of the user who made this update.",
            "type": "string"
          }
        },
        "title": "Publication pitch event",
        "type": "object"
      },
      "https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_publication_pitch_json": {
        "$schema": "http://json-schema.org/draft-04/schema#",
        "additionalProperties": false,
        "description": "Trait that represents a pitch to a publication. In the Arc ecosystem, this data is generated by WebSked.",
        "properties": {
          "additional_properties": {
            "$ref": "#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json"
          },
          "creation_event": {
            "$ref": "#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_publication_pitch_event_json"
          },
          "latest_event": {
            "$ref": "#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_publication_pitch_event_json"
          },
          "publication_id": {
            "description": "The ID of the publication that this pitch targets.",
            "type": "string"
          }
        },
        "title": "Publication pitch",
        "type": "object"
      }
    },
    "description": "An operation to add or update a story's pitch to a WebSked publication.",
    "type": "object"
  },
  "tests": [
    {
      "description": "llama 70b generated valid",
      "valid": true,
      "data": {
        "body": {
          "additional_properties": {},
          "creation_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "latest_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "publication-123"
        },
        "date": "2022-01-01T12:00:00Z",
        "id": "pitch-123",
        "operation": "create",
        "organization_id": "organization-123",
        "type": "publication-pitch-operation",
        "version": "0.10.9"
      }
    },
    {
      "description": "llama-70b generated negative; focus on additionalProperties keyword with an object schema",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('invalid_property' was unexpected)",
      "python_error": "Additional properties are not allowed ('invalid_property' was unexpected)\n\nFailed validating 'additionalProperties' in schema['allOf'][0]['properties']['body']['properties']['creation_event']:\n    {'$schema': 'http://json-schema.org/draft-04/schema#',\n     'additionalProperties': False,\n     'description': 'Trait that represents an update event for a pitch to '\n                    'a publication. In the Arc ecosystem, this data is '\n                    'generated by WebSked.',\n     'properties': {'additional_properties': {'$ref': '#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json'},\n                    'edition_id': {'description': 'The ID of the '\n                                                  'publication edition '\n                                                  'that this pitch '\n                                                  'targets.',\n                                   'type': 'string'},\n .. (1568 more)",
      "data": {
        "body": {
          "additional_properties": {},
          "creation_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123",
            "invalid_property": "invalid_value"
          },
          "latest_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "publication-123"
        },
        "date": "2022-01-01T12:00:00Z",
        "id": "pitch-123",
        "operation": "create",
        "organization_id": "organization-123",
        "type": "publication-pitch-operation",
        "version": "0.10.9"
      }
    },
    {
      "description": "llama-70b generated negative; focus on pattern keyword",
      "valid": false,
      "rust_error": "\"Pitched\" does not match \"^([a-z]|[ ])*$\"",
      "python_error": "'Pitched' does not match '^([a-z]|[ ])*$'\n\nFailed validating 'pattern' in schema['allOf'][0]['properties']['body']['properties']['latest_event']['properties']['status']:\n    {'description': 'The current status of the pitch.',\n     'pattern': '^([a-z]|[ ])*$',\n     'type': 'string'}\n\nOn instance['body']['latest_event']['status']:\n    'Pitched'",
      "data": {
        "body": {
          "additional_properties": {},
          "creation_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "Pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "latest_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "Pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "publication-123"
        },
        "date": "2022-01-01T12:00:00Z",
        "id": "pitch-123",
        "operation": "create",
        "organization_id": "organization-123",
        "type": "publication-pitch-operation",
        "version": "0.10.9"
      }
    },
    {
      "description": "llama-70b generated negative; focus on additionalProperties keyword with an object schema",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('extra_property' was unexpected)",
      "python_error": "Additional properties are not allowed ('extra_property' was unexpected)\n\nFailed validating 'additionalProperties' in schema['allOf'][0]['properties']['body']['properties']['creation_event']:\n    {'$schema': 'http://json-schema.org/draft-04/schema#',\n     'additionalProperties': False,\n     'description': 'Trait that represents an update event for a pitch to '\n                    'a publication. In the Arc ecosystem, this data is '\n                    'generated by WebSked.',\n     'properties': {'additional_properties': {'$ref': '#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json'},\n                    'edition_id': {'description': 'The ID of the '\n                                                  'publication edition '\n                                                  'that this pitch '\n                                                  'targets.',\n                                   'type': 'string'},\n   .. (1562 more)",
      "data": {
        "body": {
          "additional_properties": {},
          "creation_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123",
            "extra_property": "extra_value"
          },
          "latest_event": {
            "additional_properties": {},
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pitched",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "publication-123"
        },
        "date": "2022-01-01T12:00:00Z",
        "id": "pitch-123",
        "operation": "create",
        "organization_id": "organization-123",
        "type": "publication-pitch-operation",
        "version": "0.10.9"
      }
    },
    {
      "description": "llama 70b generated positive",
      "valid": true,
      "data": {
        "body": {
          "additional_properties": {},
          "creation_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "latest_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "pub-123"
        },
        "date": "2022-01-01T12:00:00Z",
        "id": "pitch-123",
        "operation": "create",
        "organization_id": "org-123",
        "type": "publication-pitch-operation",
        "version": "0.10.9"
      }
    },
    {
      "description": "llama-70b generated negative; focus on allOf keyword",
      "valid": false,
      "rust_error": "\"operation\" is a required property",
      "python_error": "'operation' is a required property\n\nFailed validating 'required' in schema['allOf'][0]:\n    {'properties': {'body': {'$ref': '#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_publication_pitch_json',\n                             'description': 'The object being '\n                                            'inserted/updated'},\n                    'date': {'_format': 'date-time',\n                             'description': 'When the operation should be '\n                                            'considered performed',\n                             'type': 'string'},\n                    'id': {'description': 'The id of the item being '\n                                          'operated',\n                           'type': 'string'},\n                    'operation': {'description': 'The identifier of the '\n                                                 'operation being '\n                                                 'perfor.. (1774 more)",
      "data": {
        "type": "publication-pitch-operation",
        "date": "2022-01-01T12:00:00Z",
        "version": "0.10.9",
        "body": {
          "additional_properties": {},
          "creation_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "latest_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "pub-123"
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on pattern keyword",
      "valid": false,
      "rust_error": "\"Pending\" does not match \"^([a-z]|[ ])*$\"",
      "python_error": "Additional properties are not allowed ('Added a trailing comma which is not allowed in JSON', \"Changed to 'Pending' instead of 'pending'. This violates the pattern keyword in the schema which expects only lowercase letters and spaces.\", 'user-123' were unexpected)\n\nFailed validating 'additionalProperties' in schema['allOf'][0]['properties']['body']['properties']['creation_event']:\n    {'$schema': 'http://json-schema.org/draft-04/schema#',\n     'additionalProperties': False,\n     'description': 'Trait that represents an update event for a pitch to '\n                    'a publication. In the Arc ecosystem, this data is '\n                    'generated by WebSked.',\n     'properties': {'additional_properties': {'$ref': '#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json'},\n                    'edition_id': {'description': 'The ID of the '\n                                                  'publication editi.. (1983 more)",
      "data": {
        "type": "publication-pitch-operation",
        "operation": "create",
        "id": "pitch-123",
        "organization_id": "org-123",
        "date": "2022-01-01T12:00:00Z",
        "version": "0.10.9",
        "body": {
          "publication_id": "pub-123",
          "creation_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "Pending",
            "Changed to 'Pending' instead of 'pending'. This violates the pattern keyword in the schema which expects only lowercase letters and spaces.": "time",
            "Added a trailing comma which is not allowed in JSON": "user_id",
            "user-123": "Moved the property to the wrong place. This is invalid JSON and should be caught by any validator"
          }
        }
      }
    },
    {
      "description": "llama-70b generated negative; focus on additionalProperties keyword with an object schema",
      "valid": false,
      "rust_error": "Additional properties are not allowed ('extra_property' was unexpected)",
      "python_error": "Additional properties are not allowed ('extra_property' was unexpected)\n\nFailed validating 'additionalProperties' in schema['allOf'][0]['properties']['body']['properties']['creation_event']:\n    {'$schema': 'http://json-schema.org/draft-04/schema#',\n     'additionalProperties': False,\n     'description': 'Trait that represents an update event for a pitch to '\n                    'a publication. In the Arc ecosystem, this data is '\n                    'generated by WebSked.',\n     'properties': {'additional_properties': {'$ref': '#/definitions/https:__raw_githubusercontent_com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0_10_9_traits_trait_additional_properties_json'},\n                    'edition_id': {'description': 'The ID of the '\n                                                  'publication edition '\n                                                  'that this pitch '\n                                                  'targets.',\n                                   'type': 'string'},\n   .. (1528 more)",
      "data": {
        "type": "publication-pitch-operation",
        "operation": "create",
        "id": "pitch-123",
        "organization_id": "org-123",
        "date": "2022-01-01T12:00:00Z",
        "version": "0.10.9",
        "body": {
          "publication_id": "pub-123",
          "creation_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123",
            "extra_property": "extra_value"
          },
          "latest_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "additional_properties": {}
        }
      }
    },
    {
      "description": "llama-70b generated negative",
      "valid": false,
      "rust_error": "\"Pending\" does not match \"^([a-z]|[ ])*$\"",
      "python_error": "'Pending' does not match '^([a-z]|[ ])*$'\n\nFailed validating 'pattern' in schema['allOf'][0]['properties']['body']['properties']['latest_event']['properties']['status']:\n    {'description': 'The current status of the pitch.',\n     'pattern': '^([a-z]|[ ])*$',\n     'type': 'string'}\n\nOn instance['body']['latest_event']['status']:\n    'Pending'",
      "data": {
        "body": {
          "additional_properties": {},
          "creation_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "Pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "latest_event": {
            "edition_id": "edition-123",
            "edition_time": "2022-01-01T12:00:00Z",
            "note": "Initial pitch",
            "status": "Pending",
            "time": "2022-01-01T12:00:00Z",
            "user_id": "user-123"
          },
          "publication_id": "pub-123"
        },
        "date": "2022-01-01T12:00:00Z",
        "id": "pitch-123",
        "operation": "create",
        "organization_id": "org-123",
        "type": "publication-pitch-operation",
        "version": "0.10.9"
      }
    }
  ]
}